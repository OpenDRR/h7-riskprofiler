!function(){"use strict";window["jquery-ui-sortable"];const e=jQuery(".wp-list-table tbody");function t(n){if("children"===n)return void window.location.reload();const o=jQuery.parseJSON(n),{new_pos:i}=o;for(const e in i){if("next"===e)continue;const t=document.getElementById(`inline_${e}`);if(null!==t&&i.hasOwnProperty(e)){const n=t.querySelector(".menu_order");if(void 0!==i[e].menu_order){null!==n&&(n.textContent=i[e].menu_order);const o=t.querySelector(".post_parent");null!==o&&(o.textContent=i[e].post_parent);let r=null;const a=t.querySelector(".post_title");null!==a&&(r=a.innerHTML);let d=0;for(;d<i[e].depth;)r=`&mdash; ${r}`,d++;const l=t.parentNode.querySelector(".row-title");if(null!==l&&null!==r){const e=document.createElement("textarea");e.innerHTML=r,l.textContent=e.value}}else null!==n&&(n.textContent=i[e])}}o.next?jQuery.post(window.ajaxurl,{action:"simple_page_ordering",id:o.next.id,previd:o.next.previd,nextid:o.next.nextid,start:o.next.start,_wpnonce:window.simple_page_ordering_localized_data._wpnonce,screen_id:window.simple_page_ordering_localized_data.screen_id,excluded:JSON.stringify(o.next.excluded)},t):(jQuery(".spo-updating-row").removeClass("spo-updating-row").find(".check-column").removeClass("spinner is-active"),e.removeClass("spo-updating").sortable("enable"))}e.sortable({items:"> tr",cursor:"move",axis:"y",containment:"table.widefat",cancel:"input, textarea, button, select, option, .inline-edit-row",distance:2,opacity:.8,tolerance:"pointer",create(){jQuery(document).keydown((function(t){const n=t.key||t.keyCode;"Escape"!==n&&"Esc"!==n&&27!==n||(e.sortable("option","preventUpdate",!0),e.sortable("cancel"))}))},start(e,t){"undefined"!==typeof inlineEditPost&&inlineEditPost.revert(),t.placeholder.height(t.item.height()),t.placeholder.empty()},helper(e,t){const n=t.children();for(let e=0;e<n.length;e++){const t=jQuery(n[e]);t.width(t.width())}return t},stop(t,n){e.sortable("option","preventUpdate")&&e.sortable("option","preventUpdate",!1),n.item.children().css("width","")},update(n,o){if(e.sortable("option","preventUpdate"))return void e.sortable("option","preventUpdate",!1);e.sortable("disable").addClass("spo-updating"),o.item.addClass("spo-updating-row"),o.item.find(".check-column").addClass("spinner is-active");const i=o.item[0].id.substr(5);let r=!1;const a=o.item.prev();a.length>0&&(r=a.attr("id").substr(5));let d=!1;const l=o.item.next();l.length>0&&(d=l.attr("id").substr(5)),jQuery.post(window.ajaxurl,{action:"simple_page_ordering",id:i,previd:r,nextid:d,_wpnonce:window.simple_page_ordering_localized_data._wpnonce,screen_id:window.simple_page_ordering_localized_data.screen_id},t);const s=document.querySelectorAll("tr.iedit");let c=s.length;for(;c--;)c%2===0?jQuery(s[c]).addClass("alternate"):jQuery(s[c]).removeClass("alternate")}}),jQuery((function(){jQuery("#simple-page-ordering-reset").on("click",(function(e){e.preventDefault();const t=jQuery(this).data("posttype");window.confirm(`Are you sure you want to reset the ${t} order?`)&&jQuery.post(window.ajaxurl,{action:"reset_simple_page_ordering",post_type:t,_wpnonce:window.simple_page_ordering_localized_data._wpnonce,screen_id:window.simple_page_ordering_localized_data.screen_id},(function(){window.location.reload()}))}))}))}();